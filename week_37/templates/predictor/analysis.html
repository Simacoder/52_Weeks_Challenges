{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Iris Dataset Analysis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: Inter, sans-serif; margin: 2rem; line-height: 1.5; color: #111827; background: #fafafa; }
    .container { max-width: 800px; margin: 0 auto; background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
    h1 { font-size: 1.8rem; margin-bottom: 0.5rem; }
    h2 { margin-top: 2rem; font-size: 1.3rem; color: #374151; }
    table { border-collapse: collapse; margin: 1rem 0; width: 100%; background: white; border-radius: 8px; overflow: hidden; }
    th, td { border: 1px solid #e5e7eb; padding: 0.5rem 0.75rem; text-align: right; }
    th { background: #f3f4f6; text-align: left; }
    tr:nth-child(even) { background: #f9fafb; }
    ul { margin-top: 0.5rem; padding-left: 1.5rem; }
    li { margin-bottom: 0.3rem; }
    img { max-width: 100%; border-radius: 8px; margin-top: 1rem; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
  </style>
</head>
<body>
<div class="container">
  <h1>Iris Dataset Analysis</h1>

  <h2>Feature Statistics</h2>
  <table>
    <thead>
      <tr><th>Feature</th><th>Mean</th><th>Std</th><th>Min</th><th>Max</th></tr>
    </thead>
    <tbody>
      {% for feature, values in feature_stats.items %}
      <tr>
        <td style="text-align:left;">{{ feature }}</td>
        <td>{{ values.mean|floatformat:2 }}</td>
        <td>{{ values.std|floatformat:2 }}</td>
        <td>{{ values.min|floatformat:2 }}</td>
        <td>{{ values.max|floatformat:2 }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <h2>Class Distribution</h2>
  <ul>
    {% for name, count in class_counts %}
      <li>{{ name }}: {{ count }}</li>
    {% endfor %}
  </ul>

  <h2>Plots</h2>
  <img src="{% static 'predictor/plots/pairplot.png' %}" alt="Pairplot">
  <img src="{% static 'predictor/plots/correlation_heatmap.png' %}" alt="Correlation Heatmap">
</div>
</body>
</html>
